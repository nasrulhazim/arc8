#!/usr/bin/env bash

if type "composer" > /dev/null; then
	echo "üèóÔ∏è  Updating backend dependencies..."
	composer update --quiet --no-ansi --no-interaction >/dev/null
	if [[ `git status --porcelain` ]]; then
	  git add composer.json composer.lock
	  bin/commit dependencies "Dependencies updated"
	else
	  echo "üéâ You have successfully update the dependencies!"
	fi
else  
	echo "‚ò†Ô∏è You need to install composer in order to update dependencies" 
fi

if type "yarn" > /dev/null; then
	echo "üèóÔ∏è  Updating frontend dependencies..."
	yarn upgrade --silent >/dev/null
	bin/compile-asset
else  
	echo "‚ò†Ô∏è You need to install Yarn in order to upgrade frontend dependencies" 
fi

clear
